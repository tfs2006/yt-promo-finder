<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YouTube Promo Finder - Discover Sponsorships, Affiliate Links & Brand Deals on Any Channel</title>
  <meta name="description" content="Free tool to analyze any YouTube channel and uncover every sponsorship, affiliate link, and brand partnership. Perfect for marketers, brands, creators, and researchers. Analyze 12 months of video data instantly." />
  <meta name="keywords" content="YouTube sponsorship finder, YouTube affiliate link checker, brand deal tracker, influencer marketing research, YouTube channel analyzer, sponsorship detection, creator partnerships, YouTube marketing tools" />
  <meta name="author" content="David J Woodbury" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://yt-promo-finder.vercel.app/" />
  
  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="YouTube Promo Finder - Uncover Hidden Sponsorships & Affiliate Links" />
  <meta property="og:description" content="Instantly discover every brand deal, sponsorship, and affiliate link on any YouTube channel. Free tool for marketers, brands, and creators." />
  <meta property="og:url" content="https://yt-promo-finder.vercel.app/" />
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="YouTube Promo Finder - Discover Hidden Sponsorships" />
  <meta name="twitter:description" content="Free tool to uncover every sponsorship and affiliate link on any YouTube channel." />
  
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .fade-in { animation: fadein 0.4s ease-out; }
    @keyframes fadein { 
      from { opacity: 0; transform: translateY(8px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
    .slide-in { animation: slidein 0.5s ease-out; }
    @keyframes slidein {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .spin { animation: spin 1s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .gradient-text { 
      background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .glass-effect {
      background: rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(12px);
    }
    details[open] summary ~ * { animation: slidein 0.3s ease-out; }
    .copy-btn { transition: all 0.2s ease; }
    .copy-btn:active { transform: scale(0.95); }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-slate-100 min-h-screen">
  <div class="max-w-6xl mx-auto px-4 py-12 md:py-16">
    <header class="mb-10 text-center md:text-left">
      <div class="inline-flex items-center gap-2 mb-4 px-4 py-2 rounded-full glass-effect border border-emerald-500/20">
        <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
        <span class="text-sm font-medium text-emerald-400">YouTube Channel Analysis Tools</span>
        <span class="text-slate-600 mx-1">|</span>
        <a href="https://4ourmedia.com" target="_blank" rel="noopener" class="text-sm text-slate-400 hover:text-white transition-colors font-medium">4ourmedia.com</a>
      </div>
      
      <div class="flex flex-wrap gap-2 mb-6">
        <a href="/domain" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-orange-500/20 hover:border-orange-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
          </svg>
          <span class="text-orange-400 group-hover:text-orange-300 transition-colors font-medium">Domain Search</span>
        </a>
        <a href="/unlisted" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-purple-500/20 hover:border-purple-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
          </svg>
          <span class="text-purple-400 group-hover:text-purple-300 transition-colors font-medium">Unlisted Videos</span>
        </a>
        <a href="/growth" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-blue-500/20 hover:border-blue-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
          </svg>
          <span class="text-blue-400 group-hover:text-blue-300 transition-colors font-medium">Growth Tracker</span>
        </a>
        <a href="/collab" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-amber-500/20 hover:border-amber-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          <span class="text-amber-400 group-hover:text-amber-300 transition-colors font-medium">Collaborations</span>
        </a>
        <a href="/compare" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-pink-500/20 hover:border-pink-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
          </svg>
          <span class="text-pink-400 group-hover:text-pink-300 transition-colors font-medium">Compare Sponsors</span>
        </a>
        <a href="/rate" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-teal-500/20 hover:border-teal-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span class="text-teal-400 group-hover:text-teal-300 transition-colors font-medium">Rate Estimator</span>
        </a>
        <a href="/viral" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-rose-500/20 hover:border-rose-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-rose-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"></path>
          </svg>
          <span class="text-rose-400 group-hover:text-rose-300 transition-colors font-medium">Viral Detector</span>
        </a>
        <a href="/saturation" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-violet-500/20 hover:border-violet-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-violet-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
          </svg>
          <span class="text-violet-400 group-hover:text-violet-300 transition-colors font-medium">Saturation Score</span>
        </a>
        <a href="/revenue" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-lime-500/20 hover:border-lime-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-lime-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          <span class="text-lime-400 group-hover:text-lime-300 transition-colors font-medium">Revenue Calculator</span>
        </a>
        <a href="/predictor" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-cyan-500/20 hover:border-cyan-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
          </svg>
          <span class="text-cyan-400 group-hover:text-cyan-300 transition-colors font-medium">Performance Predictor</span>
        </a>
        <a href="/linkcheck" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg glass-effect border border-sky-500/20 hover:border-sky-500/40 transition-all text-sm group">
          <svg class="w-4 h-4 text-sky-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
          </svg>
          <span class="text-sky-400 group-hover:text-sky-300 transition-colors font-medium">Link Checker</span>
        </a>
      </div>
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold leading-tight">
        YouTube Channel <span class="gradient-text">Promotion Finder</span>
      </h1>
      <p class="text-slate-300 mt-4 text-lg md:text-xl max-w-3xl">
        <strong>Uncover every sponsorship, affiliate link, and brand deal</strong> hiding in any YouTube channel's video descriptions.
        Get instant insights from 12 months of content â€” 100% free.
      </p>
      
      <!-- Trust Indicators -->
      <div class="mt-6 flex flex-wrap items-center gap-4 text-sm text-slate-400">
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
          <span>No signup required</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
          <span>Export to CSV/JSON</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
          <span>Analyzes 12 months of videos</span>
        </div>
      </div>
    </header>

    <section id="analyzer" class="glass-effect border border-slate-700/50 rounded-3xl p-6 md:p-8 shadow-2xl">
      <!-- Quota Status Banner -->
      <div id="quotaBanner" class="hidden mb-4 rounded-xl p-4 border">
        <div class="flex items-center gap-3">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <div class="flex-1">
            <span id="quotaMessage" class="text-sm font-medium"></span>
            <div class="mt-2 h-2 bg-slate-800 rounded-full overflow-hidden">
              <div id="quotaBar" class="h-full transition-all duration-500"></div>
            </div>
            <div class="flex justify-between mt-1 text-xs opacity-75">
              <span id="quotaUsed">0 used</span>
              <span id="quotaRemaining">10,000 remaining</span>
            </div>
          </div>
        </div>
      </div>
      
      <form id="form" class="flex flex-col gap-3 md:flex-row md:items-center">
        <div class="flex-1 relative">
          <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
          </svg>
          <input 
            id="url" 
            type="text" 
            placeholder="https://www.youtube.com/@YourFavoriteCreator" 
            class="w-full rounded-xl bg-slate-900/80 border border-slate-700 pl-12 pr-4 py-3.5 outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all" 
            required 
            aria-label="YouTube channel URL"
          />
        </div>
        <button 
          id="submitBtn" 
          class="rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white font-semibold px-8 py-3.5 transition-all shadow-lg hover:shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 min-w-[140px]"
          type="submit"
        >
          <span id="btnText">Analyze</span>
          <svg id="btnIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
          <svg id="btnSpinner" class="w-5 h-5 spin hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
        </button>
      </form>
      <div class="mt-4 flex flex-wrap items-center gap-2 text-xs text-slate-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>Supports URLs, handles like <span class="mono text-emerald-400">@MKBHD</span>, or channel IDs like <span class="mono text-emerald-400">UC-XXXX</span></span>
      </div>
    </section>

    <section id="status" class="mt-6 hidden"></section>
    <section id="results" class="mt-6 space-y-4"></section>

    <!-- How It Works Section -->
    <section class="mt-16 pt-12 border-t border-slate-800/30">
      <div class="text-center mb-10">
        <h2 class="text-2xl md:text-3xl font-bold mb-3">How It Works</h2>
        <p class="text-slate-400 max-w-2xl mx-auto">Get actionable sponsorship data in seconds. No complex setup required.</p>
      </div>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 text-center">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center">
            <span class="text-2xl font-bold text-emerald-400">1</span>
          </div>
          <h3 class="font-semibold text-lg mb-2">Paste Any Channel URL</h3>
          <p class="text-slate-400 text-sm">Enter a YouTube channel URL, handle (@MKBHD), or channel ID. We support all formats.</p>
        </div>
        
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 text-center">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center">
            <span class="text-2xl font-bold text-emerald-400">2</span>
          </div>
          <h3 class="font-semibold text-lg mb-2">We Scan 12 Months</h3>
          <p class="text-slate-400 text-sm">Our tool analyzes up to a year of video descriptions, extracting every promotional link and brand mention.</p>
        </div>
        
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 text-center">
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center">
            <span class="text-2xl font-bold text-emerald-400">3</span>
          </div>
          <h3 class="font-semibold text-lg mb-2">Get Instant Results</h3>
          <p class="text-slate-400 text-sm">See every sponsorship, affiliate link, and brand deal â€” organized by frequency. Export to CSV or JSON.</p>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="mt-16">
      <div class="text-center mb-10">
        <h2 class="text-2xl md:text-3xl font-bold mb-3">Who Uses This Tool?</h2>
        <p class="text-slate-400 max-w-2xl mx-auto">Whether you're a brand, creator, or researcher â€” unlock powerful sponsorship insights.</p>
      </div>
      
      <div class="grid md:grid-cols-2 gap-6">
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 hover:border-emerald-500/30 transition-all">
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 flex-shrink-0 rounded-xl bg-blue-500/10 border border-blue-500/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-1 text-blue-400">Brands & Marketers</h3>
              <p class="text-slate-400 text-sm">Find out which creators already promote your competitors. Discover potential influencer partners by seeing who promotes similar products in your niche.</p>
            </div>
          </div>
        </div>
        
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 hover:border-emerald-500/30 transition-all">
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 flex-shrink-0 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-1 text-purple-400">Content Creators</h3>
              <p class="text-slate-400 text-sm">Research what brands sponsor creators in your niche. Discover sponsorship opportunities by seeing which companies are actively partnering with YouTubers like you.</p>
            </div>
          </div>
        </div>
        
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 hover:border-emerald-500/30 transition-all">
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 flex-shrink-0 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/></svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-1 text-amber-400">Researchers & Journalists</h3>
              <p class="text-slate-400 text-sm">Investigate undisclosed sponsorships and track influencer marketing trends. Export data for reports and analysis on creator monetization patterns.</p>
            </div>
          </div>
        </div>
        
        <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 hover:border-emerald-500/30 transition-all">
          <div class="flex items-start gap-4">
            <div class="w-10 h-10 flex-shrink-0 rounded-xl bg-rose-500/10 border border-rose-500/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-rose-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
            </div>
            <div>
              <h3 class="font-semibold text-lg mb-1 text-rose-400">Curious Viewers</h3>
              <p class="text-slate-400 text-sm">Ever wonder how your favorite creators make money? See exactly which brands and products they promote, and how often they mention them.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Real Examples Section -->
    <section class="mt-16">
      <div class="text-center mb-10">
        <h2 class="text-2xl md:text-3xl font-bold mb-3">Real-World Examples</h2>
        <p class="text-slate-400 max-w-2xl mx-auto">Here's what you can discover with YouTube Promo Finder</p>
      </div>
      
      <div class="glass-effect border border-slate-700/50 rounded-2xl p-6 md:p-8">
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h3 class="font-semibold text-emerald-400 mb-3 flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
              What You'll Find
            </h3>
            <ul class="space-y-2 text-slate-300 text-sm">
              <li class="flex items-start gap-2"><span class="text-emerald-400">â€¢</span> Affiliate links (Amazon Associates, Impact, ShareASale, etc.)</li>
              <li class="flex items-start gap-2"><span class="text-emerald-400">â€¢</span> Sponsored product links with tracking codes</li>
              <li class="flex items-start gap-2"><span class="text-emerald-400">â€¢</span> Recurring brand partnerships (NordVPN, Squarespace, etc.)</li>
              <li class="flex items-start gap-2"><span class="text-emerald-400">â€¢</span> Creator discount codes and referral links</li>
              <li class="flex items-start gap-2"><span class="text-emerald-400">â€¢</span> Equipment and gear recommendations</li>
              <li class="flex items-start gap-2"><span class="text-emerald-400">â€¢</span> Podcast and social media cross-promotions</li>
            </ul>
          </div>
          <div>
            <h3 class="font-semibold text-emerald-400 mb-3 flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
              Example Insights
            </h3>
            <div class="space-y-3 text-sm">
              <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700/50">
                <p class="text-slate-300"><span class="text-emerald-400 font-medium">Tech reviewer:</span> "Uses Amazon affiliate links in 87% of videos, partners with dbrand 12x/year"</p>
              </div>
              <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700/50">
                <p class="text-slate-300"><span class="text-emerald-400 font-medium">Fitness creator:</span> "Promotes Athletic Greens monthly, uses MyProtein affiliate links"</p>
              </div>
              <div class="bg-slate-800/50 rounded-lg p-3 border border-slate-700/50">
                <p class="text-slate-300"><span class="text-emerald-400 font-medium">Gaming channel:</span> "Sponsored by Razer 8x, uses G2A and CDKeys affiliate links"</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- All Tools Section -->
    <section class="mt-16">
      <div class="text-center mb-10">
        <h2 class="text-2xl md:text-3xl font-bold mb-3">Complete YouTube Intelligence Suite</h2>
        <p class="text-slate-400 max-w-2xl mx-auto">More than just promotion tracking â€” explore our full toolkit</p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
        <a href="/domain" class="glass-effect border border-orange-500/20 rounded-2xl p-5 hover:border-orange-500/40 transition-all group">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9"/></svg>
            </div>
            <h3 class="font-semibold text-orange-400 group-hover:text-orange-300 transition-colors">Domain Search</h3>
          </div>
          <p class="text-slate-400 text-sm">Search for any brand or website and find every YouTube video that mentions it. Perfect for competitive research.</p>
        </a>
        
        <a href="/unlisted" class="glass-effect border border-purple-500/20 rounded-2xl p-5 hover:border-purple-500/40 transition-all group">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-purple-500/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
            </div>
            <h3 class="font-semibold text-purple-400 group-hover:text-purple-300 transition-colors">Unlisted Videos</h3>
          </div>
          <p class="text-slate-400 text-sm">Discover unlisted videos from any channel by finding URLs shared in other video descriptions.</p>
        </a>
        
        <a href="/growth" class="glass-effect border border-blue-500/20 rounded-2xl p-5 hover:border-blue-500/40 transition-all group">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
            </div>
            <h3 class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors">Growth Tracker</h3>
          </div>
          <p class="text-slate-400 text-sm">Analyze upload patterns, posting schedules, and channel statistics over time.</p>
        </a>
        
        <a href="/collab" class="glass-effect border border-amber-500/20 rounded-2xl p-5 hover:border-amber-500/40 transition-all group">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
            </div>
            <h3 class="font-semibold text-amber-400 group-hover:text-amber-300 transition-colors">Collaboration Finder</h3>
          </div>
          <p class="text-slate-400 text-sm">Map creator networks by finding channel mentions and collaborations in video descriptions.</p>
        </a>
        
        <a href="/compare" class="glass-effect border border-pink-500/20 rounded-2xl p-5 hover:border-pink-500/40 transition-all group">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-pink-500/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/></svg>
            </div>
            <h3 class="font-semibold text-pink-400 group-hover:text-pink-300 transition-colors">Compare Sponsors</h3>
          </div>
          <p class="text-slate-400 text-sm">Compare sponsorships across multiple channels to find common partnerships and unique deals.</p>
        </a>
        
        <div class="glass-effect border border-emerald-500/20 rounded-2xl p-5 bg-emerald-500/5">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            </div>
            <h3 class="font-semibold text-emerald-400">100% Free</h3>
          </div>
          <p class="text-slate-400 text-sm">All tools are completely free to use. No account required, no hidden fees, no premium tier.</p>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="mt-16">
      <div class="text-center mb-10">
        <h2 class="text-2xl md:text-3xl font-bold mb-3">Frequently Asked Questions</h2>
        <p class="text-slate-400 max-w-2xl mx-auto">Everything you need to know about YouTube Promo Finder</p>
      </div>
      
      <div class="glass-effect border border-slate-700/50 rounded-2xl divide-y divide-slate-700/50">
        <details class="p-5 group">
          <summary class="cursor-pointer font-semibold flex items-center justify-between">
            <span>How does YouTube Promo Finder work?</span>
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </summary>
          <p class="mt-3 text-slate-400 text-sm">We use the official YouTube Data API to fetch video metadata from any public channel. Our algorithm scans video descriptions from the last 12 months, extracting and categorizing all external links, affiliate codes, and promotional URLs. Results are grouped by domain and sorted by frequency.</p>
        </details>
        
        <details class="p-5 group">
          <summary class="cursor-pointer font-semibold flex items-center justify-between">
            <span>Is this tool really free?</span>
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </summary>
          <p class="mt-3 text-slate-400 text-sm">Yes! YouTube Promo Finder is 100% free with no signup required. We don't have a premium tier or paid features. The only limitation is the daily YouTube API quota, which is shared across all users and resets at midnight Pacific Time.</p>
        </details>
        
        <details class="p-5 group">
          <summary class="cursor-pointer font-semibold flex items-center justify-between">
            <span>What kind of promotions can you detect?</span>
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </summary>
          <p class="mt-3 text-slate-400 text-sm">We detect any external links in video descriptions, including: affiliate links (Amazon, Impact, ShareASale), sponsored product links, brand landing pages, creator discount codes, equipment links, social media promotions, and referral URLs. We cannot detect spoken sponsorships or on-screen promotions that aren't linked in the description.</p>
        </details>
        
        <details class="p-5 group">
          <summary class="cursor-pointer font-semibold flex items-center justify-between">
            <span>Why am I seeing a "quota exceeded" error?</span>
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </summary>
          <p class="mt-3 text-slate-400 text-sm">YouTube limits API usage per day. Our tool shares this quota across all users. If you see this error, it means the daily limit has been reached. The quota resets at midnight Pacific Time, so please try again tomorrow. We display the current quota status at the top of the page.</p>
        </details>
        
        <details class="p-5 group">
          <summary class="cursor-pointer font-semibold flex items-center justify-between">
            <span>Can I export the data?</span>
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </summary>
          <p class="mt-3 text-slate-400 text-sm">Absolutely! After running an analysis, you'll see export buttons for both CSV and JSON formats. CSV is great for spreadsheets like Excel or Google Sheets, while JSON is perfect for developers or further data processing.</p>
        </details>
        
        <details class="p-5 group">
          <summary class="cursor-pointer font-semibold flex items-center justify-between">
            <span>How far back does the analysis go?</span>
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </summary>
          <p class="mt-3 text-slate-400 text-sm">We analyze the last 12 months of video uploads from any channel. This gives you a comprehensive view of recent sponsorship activity while keeping the analysis fast and API-efficient.</p>
        </details>
      </div>
    </section>

    <!-- Final CTA Section -->
    <section class="mt-16">
      <div class="glass-effect border border-emerald-500/30 rounded-3xl p-8 md:p-12 text-center bg-gradient-to-br from-emerald-500/5 to-transparent">
        <h2 class="text-2xl md:text-3xl font-bold mb-4">Ready to Uncover Hidden Sponsorships?</h2>
        <p class="text-slate-400 max-w-2xl mx-auto mb-6">Stop guessing which brands partner with your favorite creators. Get the data you need in seconds.</p>
        <a href="#analyzer" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white font-semibold px-8 py-3.5 transition-all shadow-lg hover:shadow-emerald-500/25">
          Analyze a Channel Now
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
        </a>
        <p class="mt-4 text-xs text-slate-500">No signup â€¢ No credit card â€¢ Instant results</p>
      </div>
    </section>

    <footer class="mt-16 pt-8 border-t border-slate-800/50">
      <!-- Support the Project -->
      <div class="text-center mb-6">
        <p class="text-sm text-slate-400 mb-3">Found this tool useful? Support the project!</p>
        <a href="https://pay.4ourmedia.com/b/14AfZh1SU9M3arI5pQ8bS0o" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-400 hover:to-rose-400 text-white font-medium transition-all shadow-lg hover:shadow-pink-500/25">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/></svg>
          Donate
        </a>
      </div>

      <!-- Disclaimer -->
      <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-slate-400 mb-6">
        <div class="flex items-start gap-2">
          <svg class="w-5 h-5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <p>Results are based on video descriptions and may not capture all promotions shown on-screen or mentioned in audio. This tool is for research purposes only.</p>
        </div>
      </div>
      
      <!-- SEO Keywords/Links -->
      <div class="glass-effect border border-slate-700/30 rounded-xl p-4 mb-6 text-center">
        <p class="text-xs text-slate-500">
          <span class="font-medium text-slate-400">YouTube Promo Finder</span> â€” Free tools for 
          <span class="text-slate-400">sponsorship detection</span> â€¢ 
          <span class="text-slate-400">affiliate link tracking</span> â€¢ 
          <span class="text-slate-400">influencer marketing research</span> â€¢ 
          <span class="text-slate-400">brand deal analysis</span> â€¢ 
          <span class="text-slate-400">creator partnership insights</span>
        </p>
      </div>
      
      <div class="pt-6 border-t border-slate-800/30">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-sm">
          <div class="text-slate-400">
            <p class="text-center md:text-left">
              <span class="text-emerald-400 font-medium">Stop guessing. Start analyzing.</span> ðŸŽ¬
              <br class="md:hidden" />
              <span class="hidden md:inline">â€¢</span>
              Crafted with <span class="text-red-500">â™¥</span> by <a href="https://davidjwoodbury.com" target="_blank" rel="noopener" class="text-emerald-400 hover:text-emerald-300 font-medium transition-colors">David J Woodbury</a>
            </p>
          </div>
          <div class="flex flex-col md:flex-row items-center gap-4 text-xs text-slate-500">
            <span id="copyright">Â© <span id="year"></span> David J Woodbury. All rights reserved.</span>
            <div class="flex gap-3">
              <a href="/privacy" class="hover:text-emerald-400 transition-colors">Privacy Policy</a>
              <span>â€¢</span>
              <a href="/terms" class="hover:text-emerald-400 transition-colors">Terms of Service</a>
              <span>â€¢</span>
              <a href="/disclaimer" class="hover:text-emerald-400 transition-colors">Disclaimer</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <template id="promoRow">
    <div class="fade-in glass-effect border border-slate-700/50 rounded-2xl p-5 md:p-6 hover:border-emerald-500/30 transition-all hover:shadow-lg hover:shadow-emerald-500/5">
      <div class="flex items-start justify-between gap-4 flex-wrap md:flex-nowrap">
        <div class="flex-1 min-w-0">
          <div class="flex items-start gap-3">
            <div class="flex-shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center">
              <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
              </svg>
            </div>
            <div class="flex-1 min-w-0">
              <h3 class="text-xl font-bold text-white mb-2"></h3>
              <div class="flex items-center gap-2 flex-wrap">
                <a class="text-emerald-400 hover:text-emerald-300 mono text-sm break-all transition-colors" target="_blank" rel="noopener"></a>
                <button class="copy-btn p-1.5 hover:bg-slate-800 rounded-lg transition-colors" title="Copy URL" aria-label="Copy URL">
                  <svg class="w-4 h-4 text-slate-400 hover:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                  </svg>
                </button>
              </div>
              <p class="text-xs text-slate-400 mt-2 font-medium"></p>
            </div>
          </div>
        </div>
        <span class="text-xs bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 rounded-lg px-3 py-1.5 font-semibold whitespace-nowrap"></span>
      </div>
      <div class="mt-4">
        <details class="group">
          <summary class="cursor-pointer text-sm text-slate-300 hover:text-white transition-colors flex items-center gap-2 select-none py-2">
            <svg class="w-4 h-4 transition-transform group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
            <span class="font-medium">View videos featuring this promotion</span>
          </summary>
          <ul class="mt-3 space-y-2 pl-6"></ul>
        </details>
      </div>
    </div>
  </template>

  <script>
    const form = document.getElementById('form');
    const urlInput = document.getElementById('url');
    const statusEl = document.getElementById('status');
    const resultsEl = document.getElementById('results');
    const tpl = document.getElementById('promoRow');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const btnIcon = document.getElementById('btnIcon');
    const btnSpinner = document.getElementById('btnSpinner');
    
    // Quota elements
    const quotaBanner = document.getElementById('quotaBanner');
    const quotaMessage = document.getElementById('quotaMessage');
    const quotaBar = document.getElementById('quotaBar');
    const quotaUsed = document.getElementById('quotaUsed');
    const quotaRemaining = document.getElementById('quotaRemaining');

    function setStatus(html, tone="info") {
      statusEl.classList.remove('hidden');
      const baseClasses = "mt-6 rounded-2xl border p-5 fade-in";
      if (tone === "error") {
        statusEl.className = baseClasses + " glass-effect border-rose-500/50 text-rose-200";
      } else if (tone === "success") {
        statusEl.className = baseClasses + " glass-effect border-emerald-500/50 text-emerald-200";
      } else {
        statusEl.className = baseClasses + " glass-effect border-slate-700/50 text-slate-200";
      }
      statusEl.innerHTML = html;
    }
    
    function clearStatus() { 
      statusEl.classList.add('hidden'); 
      statusEl.innerHTML = ""; 
    }
    
    function formatDate(iso) { 
      return new Date(iso).toLocaleDateString(undefined, { 
        year: 'numeric', 
        month: 'short', 
        day: 'numeric' 
      }); 
    }
    
    const videoUrl = id => `https://www.youtube.com/watch?v=${id}`;

    // Set current year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    function setLoading(loading) {
      submitBtn.disabled = loading;
      if (loading) {
        btnText.textContent = 'Analyzing...';
        btnIcon.classList.add('hidden');
        btnSpinner.classList.remove('hidden');
      } else {
        btnText.textContent = 'Analyze';
        btnIcon.classList.remove('hidden');
        btnSpinner.classList.add('hidden');
      }
    }

    async function copyToClipboard(text, btn) {
      try {
        await navigator.clipboard.writeText(text);
        const originalHTML = btn.innerHTML;
        btn.innerHTML = `<svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>`;
        setTimeout(() => { btn.innerHTML = originalHTML; }, 2000);
      } catch (err) {
        console.error('Failed to copy:', err);
      }
    }

    // Store last results for export
    let lastResults = null;

    // Export functions
    function exportToJSON() {
      if (!lastResults || !lastResults.promotions.length) return;
      
      const exportData = {
        exportedAt: new Date().toISOString(),
        channelId: lastResults.channelId,
        analyzedSince: lastResults.sinceISO,
        videoCount: lastResults.videoCount,
        promotions: lastResults.promotions.map(p => ({
          productName: p.productName || '',
          domain: p.domain,
          url: p.url,
          mentions: p.occurrences,
          videos: p.videos.map(v => ({
            title: v.title,
            videoId: v.videoId,
            url: `https://www.youtube.com/watch?v=${v.videoId}`,
            publishedAt: v.publishedAt
          }))
        }))
      };
      
      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
      downloadBlob(blob, `promotions-${lastResults.channelId}-${Date.now()}.json`);
    }

    function exportToCSV() {
      if (!lastResults || !lastResults.promotions.length) return;
      
      const rows = [['Product Name', 'Domain', 'URL', 'Mentions', 'Sample Video', 'Video URL']];
      
      for (const p of lastResults.promotions) {
        const sampleVideo = p.videos[0];
        rows.push([
          `"${(p.productName || '').replace(/"/g, '""')}"`,
          p.domain,
          p.url,
          p.occurrences,
          `"${(sampleVideo?.title || '').replace(/"/g, '""')}"`,
          sampleVideo ? `https://www.youtube.com/watch?v=${sampleVideo.videoId}` : ''
        ]);
      }
      
      const csv = rows.map(row => row.join(',')).join('\n');
      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
      downloadBlob(blob, `promotions-${lastResults.channelId}-${Date.now()}.csv`);
    }

    function downloadBlob(blob, filename) {
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Quota management functions
    function updateQuotaBanner(status) {
      if (!status) {
        quotaBanner.classList.add('hidden');
        return;
      }
      
      quotaBanner.classList.remove('hidden');
      
      const percent = status.percentUsed;
      quotaBar.style.width = `${percent}%`;
      quotaUsed.textContent = `${status.used.toLocaleString()} used`;
      quotaRemaining.textContent = `${status.remaining.toLocaleString()} remaining`;
      
      if (status.isExhausted) {
        quotaBanner.className = 'mb-4 rounded-xl p-4 border bg-rose-500/10 border-rose-500/50';
        quotaBar.className = 'h-full transition-all duration-500 bg-rose-500';
        quotaMessage.textContent = 'âš ï¸ Daily API limit reached. Please try again tomorrow when the quota resets at midnight PT.';
        quotaMessage.className = 'text-sm font-medium text-rose-300';
        submitBtn.disabled = true;
      } else if (status.isLow) {
        quotaBanner.className = 'mb-4 rounded-xl p-4 border bg-amber-500/10 border-amber-500/50';
        quotaBar.className = 'h-full transition-all duration-500 bg-amber-500';
        quotaMessage.textContent = `âš ï¸ API quota running low (${status.usableRemaining.toLocaleString()} units left). Results may be limited.`;
        quotaMessage.className = 'text-sm font-medium text-amber-300';
      } else {
        quotaBanner.className = 'mb-4 rounded-xl p-4 border bg-emerald-500/10 border-emerald-500/50';
        quotaBar.className = 'h-full transition-all duration-500 bg-emerald-500';
        quotaMessage.textContent = `API quota available: ${status.usableRemaining.toLocaleString()} units remaining today.`;
        quotaMessage.className = 'text-sm font-medium text-emerald-300';
      }
    }
    
    async function checkQuotaStatus() {
      try {
        const r = await fetch('/api/quota');
        if (r.ok) {
          const status = await r.json();
          updateQuotaBanner(status);
          return status;
        }
      } catch (err) {
        console.error('Failed to check quota:', err);
      }
      return null;
    }
    
    function showQuotaExceededError(quotaStatus) {
      setStatus(`
        <div class="flex items-start gap-3">
          <svg class="w-6 h-6 text-rose-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
          </svg>
          <div>
            <div class="font-semibold text-lg">Daily API Limit Reached</div>
            <div class="text-sm mt-1 text-rose-300">
              The YouTube API quota has been exhausted for today. This is a shared resource limit that resets at midnight Pacific Time.
            </div>
            <div class="text-xs mt-3 text-rose-400/80">
              ðŸ’¡ Tip: Try again tomorrow, or use the cached results if available.
            </div>
          </div>
        </div>
      `, "error");
      
      if (quotaStatus) {
        updateQuotaBanner(quotaStatus);
      }
    }

    // Check quota on page load
    checkQuotaStatus();

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const u = urlInput.value.trim();
      if (!u) return;
      
      // Check quota before making request
      const quotaStatus = await checkQuotaStatus();
      if (quotaStatus?.isExhausted) {
        showQuotaExceededError(quotaStatus);
        return;
      }
      
      resultsEl.innerHTML = "";
      setLoading(true);
      setStatus(`
        <div class="flex items-center gap-3">
          <svg class="w-5 h-5 spin text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <span class="font-medium">Analyzing the last 12 months of uploadsâ€¦ this may take a few seconds.</span>
        </div>
      `);
      
      const r = await fetch(`/api/analyze?url=${encodeURIComponent(u)}`);
      setLoading(false);
      
      // Refresh quota status after request
      checkQuotaStatus();
      
      if (!r.ok) {
        const msg = await r.json().catch(() => ({error: 'Unexpected error'}));
        
        // Handle quota exceeded error specifically
        if (r.status === 429 || msg.code === 'QUOTA_EXCEEDED') {
          showQuotaExceededError(msg.quotaStatus);
          return;
        }
        
        setStatus(`
          <div class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rose-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div>
              <div class="font-semibold text-lg">Error</div>
              <div class="text-sm mt-1 text-rose-300">${msg.error || 'Unexpected server error. Please try again.'}</div>
            </div>
          </div>
        `, "error");
        return;
      }
      
      const data = await r.json();
      clearStatus();
      
      // Store results for export
      lastResults = data;

      const hdr = document.createElement('div');
      hdr.className = "glass-effect border border-emerald-500/30 rounded-2xl p-5 mb-6 fade-in";
      hdr.innerHTML = `
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
          <div class="flex items-center gap-3 flex-wrap">
            <svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div class="text-slate-200">
              <span class="font-semibold text-emerald-400 text-lg">${data.videoCount}</span> videos analyzed since 
              <span class="mono font-medium">${new Date(data.sinceISO).toLocaleDateString()}</span>
              <span class="mx-2 text-slate-600">â€¢</span>
              <span class="font-semibold text-emerald-400 text-lg">${data.promotions.length}</span> unique ${data.promotions.length === 1 ? 'promotion' : 'promotions'} found
            </div>
          </div>
          ${data.promotions.length ? `
          <div class="flex items-center gap-2">
            <button onclick="exportToCSV()" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-600/50 hover:border-emerald-500/50 hover:bg-slate-800 transition-all text-sm text-slate-300 hover:text-emerald-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
              CSV
            </button>
            <button onclick="exportToJSON()" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-800/50 border border-slate-600/50 hover:border-emerald-500/50 hover:bg-slate-800 transition-all text-sm text-slate-300 hover:text-emerald-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
              JSON
            </button>
          </div>
          ` : ''}
        </div>
      `;
      resultsEl.appendChild(hdr);

      if (!data.promotions.length) {
        setStatus(`
          <div class="flex items-start gap-3">
            <svg class="w-6 h-6 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div>
              <div class="font-semibold text-lg">No promotions detected</div>
              <div class="text-sm mt-1">This channel may not include product links in video descriptions, or they may be too recent. Try another channel.</div>
            </div>
          </div>
        `, "info");
        return;
      }

      for (const p of data.promotions) {
        const node = tpl.content.firstElementChild.cloneNode(true);
        const title = node.querySelector("h3");
        const link = node.querySelector("a");
        const copyBtn = node.querySelector(".copy-btn");
        const meta = node.querySelector("p");
        const badge = node.querySelector("span");
        const list = node.querySelector("ul");

        title.textContent = p.productName ? `${p.productName}` : p.domain;
        link.textContent = p.url.length > 60 ? p.url.substring(0, 57) + '...' : p.url;
        link.href = p.url;
        meta.textContent = p.productName ? `ðŸ”— ${p.domain}` : `ðŸ”— ${p.domain}`;
        badge.textContent = `${p.occurrences} ${p.occurrences === 1 ? "mention" : "mentions"}`;
        
        copyBtn.addEventListener('click', () => copyToClipboard(p.url, copyBtn));

        p.videos.sort((a,b) => new Date(b.publishedAt) - new Date(a.publishedAt));
        for (const v of p.videos) {
          const li = document.createElement('li');
          li.className = "text-sm flex items-start gap-2 slide-in";
          li.innerHTML = `
            <svg class="w-4 h-4 text-slate-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div class="flex-1">
              <a class="text-emerald-400 hover:text-emerald-300 transition-colors font-medium" href="${videoUrl(v.videoId)}" target="_blank" rel="noopener">${v.title}</a>
              <div class="text-xs text-slate-500 mt-1">${formatDate(v.publishedAt)}</div>
            </div>
          `;
          list.appendChild(li);
        }
        resultsEl.appendChild(node);
      }
    });
  </script>
</body>
</html>