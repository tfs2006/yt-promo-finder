{
  "version": 2,
  "builds": [
    {
      "src": "api/*.js",
      "use": "@vercel/node"
    },
    {
      "src": "public/**",
      "use": "@vercel/static"
    }
  ],
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Content-Type-Options", "value": "nosniff" },
        { "key": "X-Frame-Options", "value": "DENY" },
        { "key": "X-XSS-Protection", "value": "1; mode=block" },
        { "key": "Referrer-Policy", "value": "strict-origin-when-cross-origin" },
        { "key": "Permissions-Policy", "value": "camera=(), microphone=(), geolocation=()" }
      ]
    },
    {
      "source": "/api/(.*)",
      "headers": [
        { "key": "Cache-Control", "value": "no-store, max-age=0" }
      ]
    }
  ],
  "rewrites": [
    { "source": "/api/analyze", "destination": "/api/analyze.js" },
    { "source": "/api/collab", "destination": "/api/collab.js" },
    { "source": "/api/growth", "destination": "/api/growth.js" },
    { "source": "/api/unlisted", "destination": "/api/unlisted.js" },
    { "source": "/api/domain", "destination": "/api/domain.js" },
    { "source": "/api/compare", "destination": "/api/compare.js" },
    { "source": "/api/quota", "destination": "/api/quota.js" },
    { "source": "/api/rate", "destination": "/api/rate.js" },
    { "source": "/api/viral", "destination": "/api/viral.js" },
    { "source": "/api/saturation", "destination": "/api/saturation.js" },
    { "source": "/api/linkcheck", "destination": "/api/linkcheck.js" },
    { "source": "/compare", "destination": "/public/compare.html" },
    { "source": "/linkcheck", "destination": "/public/linkcheck.html" },
    { "source": "/rate", "destination": "/public/rate.html" },
    { "source": "/viral", "destination": "/public/viral.html" },
    { "source": "/saturation", "destination": "/public/saturation.html" },
    { "source": "/domain", "destination": "/public/domain.html" },
    { "source": "/unlisted", "destination": "/public/unlisted.html" },
    { "source": "/growth", "destination": "/public/growth.html" },
    { "source": "/collab", "destination": "/public/collab.html" },
    { "source": "/privacy", "destination": "/public/privacy.html" },
    { "source": "/terms", "destination": "/public/terms.html" },
    { "source": "/disclaimer", "destination": "/public/disclaimer.html" },
    { "source": "/(.*)", "destination": "/public/$1" }
  ]
}
